<!DOCTYPE HTML>
<html>
    <head>

        <title> Hanabi </title>
        <meta charset="utf-8">
        <script type="text/javascript" src="scripts/jquery-2.0.3.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <link rel="stylesheet" type="text/css" href="stylesheets/start_screen.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/chat.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/game_table.css">
        <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

        <script type="text/javascript">
            $(function() {
                $(".glyphicon").tooltip();
            });
        </script>

    </head>

    <body>
        <script type="text/javascript" src="/_ah/channel/jsapi"></script>
        <script>
            var channel = new goog.appengine.Channel("{{ token }}");
            var user_id = "{{ user_id }}";
        </script>
        <script type="text/javascript" src="scripts/global_vars.js"></script>
        <script type="text/javascript" src="scripts/game.js"></script>
        <script type="text/javascript" src="scripts/channel_create.js"></script>
        <script type="text/javascript" src="scripts/main.js"></script>

        <div class="modal fade" id="RulesModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>                        
                        </button>
                        <h4 class="modal-title" id="ModalLabel"> Hanabi rules </h4>
                    </div>
                    
                    <div class="modal-body">
                        <p>Here will be rules</p>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Got it!</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="alertModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="false">
            <div class="modal-dialog">
                <div class="modal-content" id="alert_modal_content">
                </div>
            </div>
        </div>

        <script>
            $("#alertModal").on("hide.bs.modal", function() {
                document.getElementById("alert_modal_content").innerHTML = "";
                if (queue_to_show.length != 0)
                    show_in_panel(queue_to_show.shift());
            });
        </script>

        <div class="navbar navbar-default" role="navigation" style="top: -2px">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#" onclick="go_to_main();">Hanabi</a>
                </div>

                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#" data-toggle="modal" data-target="#RulesModal">Rules</a></li>
                </ul>
            </div>
        </div>

        <div id="main_content">
            <div class="panel panel-info room_list">
                <div class="panel-heading">
                    <h3> Room list </h3>
                    <button type="button" class="btn btn-default refresh_btn btn-xs" onclick="refresh()">
                        <span class="glyphicon glyphicon-refresh"></span>
                    </button>
                </div>
                <div class="panel-body game_list" id="game_list" style="overflow-y: scroll">
                    <script>
                        refresh();
                    </script>
                </div>
            </div>

            <div class="panel panel-success main_menu">

                <div class="panel-heading">
                    <h3> Create your own game! </h3>
                </div>

                <div class="panel-body">                                                    

                    <input type="text" class="form-control" placeholder="Game name" maxlength="20" size="20" id="game_name" style="width: 150px">
                    <input type="text" class="form-control" placeholder="Game password" size="20" id="password"  style="width: 150px">
                    <button type="button" class="btn btn-success create_btn" onclick="create_game()">Create Game</button>

                </div>

            </div>

           <!-- <div class="friend_zone">
                <div class="container1">
                    <p> Friends are going to be here </p>
                </div>
            </div> -->

        </div>

        <div id="chat_room" style="display: none">
            <div class="panel panel-info chat" style="margin-bottom: 0px">
                <div class="panel-body msg_list" id="chat">
                
                </div>
                <div class="panel-footer">
                    <div class="message_create">
                        <textarea id="message" style="resize: none"></textarea>
                        <button class="btn btn-success chat_btn" onclick="submit()">Submit</button>
                        <button class="btn btn-danger chat_btn" id="start" onclick="start_game()" style="display: none">Start</button>
                    </div>
                </div>
            </div>

            <div class="online_list" id="online_list">

            </div>
        </div>

        <div id="game_table" style="display: none">
            <div id="left_hand"></div>

            <div id="upper_hand"></div>

            <div id="right_hand"></div>

            <div id="table">
                <div id="solitaire"></div>
                
                <div id="chips"></div>

                <div id="junk">
                    <ul class="nav nav-pills nav-stacked junk_sort" style="width: 70px; text-align: center !important">
                        <li class="active"><a href="#time_tab" data-toggle="pill">Time</a></li>
                        <li><a href="#color_tab" data-toggle="pill">Color</a></li> 
                    </ul>

                    <div class="tab-content junk_tabs" style="float: right">
                        <div class="tab-pane active junk_tabs" id="time_tab">
                        </div>

                        <div class="tab-pane junk_tabs" id="color_tab" style="overflow-y: scroll">
                        </div>
                    </div>
                </div>

            </div>

            <div id="down_hand"></div>
        </div>

        <p id="last" style="clear: both;/* display: none;*/"></p>

    </body>
</html>